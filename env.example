# =============================================================================
# GitLab ChatBot API Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Scraper Configuration
# -----------------------------------------------------------------------------
# Maximum depth for recursive URL scraping
MAX_DEPTH=3

# Maximum content length to save per page (in characters)
MAX_CONTENT_LENGTH=100000

# -----------------------------------------------------------------------------
# Sites Configuration (JSON format)
# -----------------------------------------------------------------------------
# Format: {"site_name": [{"url": "url1", "enabled": true}, {"url": "url2", "enabled": true}]}
SITES_CONFIG={"gitlab": [{"url": "https://handbook.gitlab.com/handbook/", "enabled": true}, {"url": "https://about.gitlab.com/direction/", "enabled": true}]}

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
# API server host and port
API_HOST=0.0.0.0
API_PORT=8000

# -----------------------------------------------------------------------------
# Performance Configuration
# -----------------------------------------------------------------------------
# Request timeout in seconds
REQUEST_TIMEOUT=30

# Delay between requests in seconds (to be respectful)
REQUEST_DELAY=1

# -----------------------------------------------------------------------------
# Supabase Database Configuration
# -----------------------------------------------------------------------------
# Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase anon key (public key)
SUPABASE_ANON_KEY=your-anon-key

# Whether to save data to database
SAVE_TO_DATABASE=true

# -----------------------------------------------------------------------------
# Gemini AI Configuration
# -----------------------------------------------------------------------------
# Google Gemini API key for embeddings
GEMINI_API_KEY=your-gemini-api-key

# Gemini model name for embeddings
GEMINI_EMBEDDING_MODEL=gemini-embedding-001

# Gemini embedding dimensions
GEMINI_EMBEDDING_DIMENSIONS=1536

# -----------------------------------------------------------------------------
# Embedding Configuration
# -----------------------------------------------------------------------------
# Text chunking settings
CHUNK_SIZE=4000
CHUNK_OVERLAP=400

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
# Delay between API requests in seconds
API_DELAY=1.0

# Maximum number of retries for failed requests
MAX_RETRIES=3

# Base delay for exponential backoff in seconds
RETRY_DELAY=2.0

# Maximum concurrent API requests
MAX_CONCURRENT_REQUESTS=1

# -----------------------------------------------------------------------------
# LLM Configuration for Query Analysis
# -----------------------------------------------------------------------------
# Model for query analysis and splitting
QUERY_ANALYSIS_MODEL=gemini-2.5-flash

# Temperature for query analysis (0.0-1.0, lower = more deterministic)
QUERY_ANALYSIS_TEMPERATURE=0.1

# Maximum tokens for query analysis response
QUERY_ANALYSIS_MAX_TOKENS=2048

# -----------------------------------------------------------------------------
# LLM Configuration for Final Response
# -----------------------------------------------------------------------------
# Model for final response generation
RESPONSE_MODEL=gemini-2.5-flash

# Temperature for response generation (0.0-1.0, lower = more deterministic)
RESPONSE_TEMPERATURE=0.2

# Maximum tokens for response generation
RESPONSE_MAX_TOKENS=4096

# -----------------------------------------------------------------------------
# Document Retrieval Configuration
# -----------------------------------------------------------------------------
# Number of documents to retrieve per query (before reranking)
DOCUMENTS_PER_QUERY=5

# Maximum total documents to return after reranking
MAX_TOTAL_DOCUMENTS=15